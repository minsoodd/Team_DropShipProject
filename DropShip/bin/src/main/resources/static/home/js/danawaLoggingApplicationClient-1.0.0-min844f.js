var DANAWA_LOGGING_APPLICATION_CLIENT=(function(){var a="danawa-loggingApplicationClient";var m="";var c=false;var h="";var l=0;var f=function(p){if(e()===false){console.log(p);}};var e=function(){if(location.href.indexOf("-local")>=0||location.href.indexOf("-t.danawa.")>=0||location.href.indexOf("file:")>=0){return false;}else{return true;}};var o=function(){return e()===true?"las":"las-t";};var g=function(){if(location.protocol=="https:"){return"https";}return"http";};var b=function(){try{var s=a+"=";var u="";var r=document.cookie;if(r.length>0){var t=r.indexOf(s);var p=0;if(t>=0){t+=s.length;p=r.indexOf(";",t);if(p<0){p=r.length;}u=r.substring(t,p);}}return u;}catch(q){throw new Error(q.message);}};var d=function(){try{document.cookie=a+"="+escape(m)+"; path=/; expires=Sun, 30 Jan 2100 15:00:00 GMT; domain="+escape(".danawa.com");}catch(p){throw new Error(p.message);}};var k=function(){var p=j();if(p!=null){p.open("GET",g()+"://"+o()+".danawa.com/log/issueBid.json");if(p instanceof XMLHttpRequest){p.onreadystatechange=n(d,i);}else{p.timeout=0;p.onload=n(d,i);p.onerror=function(){};p.ontimeout=function(){};p.onprogress=function(){};}setTimeout(function(){p.send();},l);}else{throw new Error("통신 환경에 문제가 있습니다.");}};var i=function(){var p=j();if(p!=null){var q="keyword="+encodeURIComponent(h)+"&bid="+encodeURI(m);q+="&referer="+encodeURIComponent(location.toString());q+="&pre-referer="+encodeURIComponent(document.referrer);p.open("POST",g()+"://"+o()+".danawa.com/log/logging.json");if(p instanceof XMLHttpRequest){p.onreadystatechange=n();p.setRequestHeader("Content-type","application/x-www-form-urlencoded");}else{p.timeout=0;p.onload=n();p.onerror=function(){};p.ontimeout=function(){};p.onprogress=function(){};}setTimeout(function(){p.send(q);},l);}else{throw new Error("통신 환경에 문제가 있습니다.");}};var n=function(){var p=arguments;return function(){var r=this;if(r instanceof XMLHttpRequest){if(r.readyState===4){if(r.status===200){if(p.length===0){if(c===true){alert(r.responseText);}}else{if(p.length===2&&p[0] instanceof Function&&p[1] instanceof Function){m=JSON.parse(r.responseText).data;if(c===true){alert(r.responseText);}}else{throw new Error("파라미터 구성에 문제가 있습니다.");}}for(var q=0;q<p.length;q++){p[q]();}}else{throw new Error("통신 결과에 문제가 있습니다.");}}}else{if(p.length===0){if(c===true){alert(r.responseText);}}else{if(p.length===2&&p[0] instanceof Function&&p[1] instanceof Function){m=JSON.parse(r.responseText).data;if(c===true){alert(r.responseText);}}else{throw new Error("파라미터 구성에 문제가 있습니다.");}}for(var q=0;q<p.length;q++){p[q]();}}};};var j=function(){var p=null;var q=navigator.userAgent.toLowerCase();if(q.indexOf("msie")>=0){if(q.indexOf("msie 8.0")>=0||q.indexOf("msie 9.0")>=0){p=new XDomainRequest();if(c===true){alert("XDomainRequest");}}else{p=new XMLHttpRequest();if(c===true){alert("XMLHttpRequest");}}}else{p=new XMLHttpRequest();}if(c===true){alert("XMLHttpRequest");}return p;};return{execute:function(p){if(arguments.length!==1||typeof arguments[0]!=="string"||arguments[0].length===0){throw new Error("매개변수에 문제가 있습니다.");}h=p;m=b();if(m.length===0){k();}else{i();}},setDelay:function(p){if(typeof p==="number"){l=p;}else{throw new Error("매개변수에 문제가 있습니다.");}},useDebug:function(p){if(arguments.length!==1||typeof arguments[0]!=="boolean"){throw new Error("매개변수에 문제가 있습니다.");}c=p;}};})();